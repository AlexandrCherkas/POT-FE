<button mat-icon-button class="update-employer-btn" (click)="updateEmployeesTable($event)"> <mat-icon>update</mat-icon></button>

<div class="container mat-elevation-z8">


  <div class="table-container">
    <div class="loading-shade" *ngIf="isLoadingResults || isRateLimitReached">
      <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    </div>

    <table mat-table class="table" [dataSource]="consumers" matSort matSortActive="" matSortDisableClear  matSortDirection="desc" >
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear> {{ "name" | translate }}  </th>
        <td mat-cell *matCellDef="let row" [routerLink]="row._id + '/edit'"> {{ row.firstName + " " + row.lastName }} </td>
      </ng-container>

      <ng-container matColumnDef="loginName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear> {{ "username" | translate }}  </th>
        <td mat-cell *matCellDef="let row">{{ row.loginName }}</td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear> {{ "Email" | translate }}  </th>
        <td mat-cell *matCellDef="let row">{{ row.email }}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>{{ "actions" | translate }}</th>
        <td mat-cell *matCellDef="let row">
          <button class="delete-company-btn" (click)="deleteConsumer(row._id, row.firstName, row.lastName)">
            {{"delete" | translate}}
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      [length]="consumersLength"
      [pageSize]="pageSize"
      aria-label="Select page "
    ></mat-paginator>
  </div>
</div>
